{% load static %}
      <!-- footer -->
       <div class="container-fluid">
        <div class="footer">
           <p>Copyright © 2018 Designed by html.design. All rights reserved.<br><br>
              Distributed By: <a href="https://themewagon.com/">ThemeWagon</a>
           </p>
        </div>
     </div>
  </div>
  <!-- end dashboard inner -->
</div>
</div>
</div>

<!-- wow animation -->
<script src="{% static 'js/animate.js'%}"></script>
<!-- select country -->
<script src="{% static 'js/bootstrap-select.js'%}"></script>
<!-- owl carousel -->
<script src="{% static 'js/owl.carousel.js'%}"></script> 
<!-- chart js -->
<script src="{% static 'js/Chart.min.js'%}"></script>
<script src="{% static 'js/Chart.bundle.min.js'%}"></script>
<script src="{% static 'js/utils.js'%}"></script>
<script src="{% static 'js/analyser.js'%}"></script>
<!-- nice scrollbar -->
<script src="{% static 'js/perfect-scrollbar.min.js'%}"></script>
<script>
var ps = new PerfectScrollbar('#sidebar');
</script>
<!-- custom js -->
<script src="{% static 'js/chart_custom_style1.js'%}"></script>
<script src="{% static 'js/custom.js'%}"></script>
{% comment %} <script type="text/javascript" src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"> </script> {% endcomment %}
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js" integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css" integrity="sha512-O03ntXoVqaGUTAeAmvQ2YSzkCvclZEcPQu1eqloPaHfJ5RuNGiS4l+3duaidD801P50J28EHyonCV06CUlTSag==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.5.3/js/fileinput.min.js" integrity="sha512-QcqoMPM0cbbQk3HlPbav/8HLvdVtzTVvS0V403goS1sJNSW8Zc3jxOLEXlxUcCg3UFM79ae+LGvV2CD+A3v68Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.5.3/css/fileinput.min.css" integrity="sha512-rzEvRcAYl72PQBzQlC0fVRlV3wlsroORbC+8QyI2zgb4UTMgczXiJny9JQC0NkCE9BeD+fr+P3U3y0qCNC7XNw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.5.3/js/locales/es.min.js" integrity="sha512-S0JIOaKT8nR01aG3SVwIeYYdf0+/0GgZz03j6WN0r9UYNtAgZOEntG5VRigldiFWY/ka6p6umMGmAE9DnDBgnQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- Incluir la biblioteca Select2 en español -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/i18n/es.min.js"></script>


</body>
</html>



<script type="text/javascript">

    $(document).ready(function() {
        $('#tabla-usuarios').DataTable({
  
            responsive: true,
            pagingType: "full_numbers", // Corregido el nombre de la opción
            pageLength: 10, // Corregido el nombre de la opción
            lengthMenu: [5, 10, 25, 50, 100], // Corregido el nombre de la opción
            buttons: [
                {
                    extend: 'excelHtml5',
                    text: '<i class="fas fa-file-excel"></i> ',
                    titleAttr: 'Exportar a Excel',
                    className: 'btn btn-secondary green_color btn2',
                    orientation: 'landscape',
                    pageSize: 'LEGAL'
                },
                {
                    extend: 'pdfHtml5',
                    text: '<i class="fas fa-file-pdf"></i> ',
                    titleAttr: 'Exportar a Pdf',
                    orientation: 'landscape',
                    className: 'btn btn-danger btn2',
                    pageSize: 'LEGAL'
                }
            ],
  
            autoWidth: false,
            dom: 'Blfrtip',
            language: {
                url: "{% static 'datatables/datatables.json'%}"
            }
        });
  
    });
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            // Configurar DataTables
            var table = $('#tblFactura').DataTable({
                responsive: true,
                pagingType: "full_numbers",
                pageLength: 10,
                lengthMenu: [5, 10, 25, 50, 100],
                autoWidth: false,
                dom: 'Blfrtip',
                language: {
                    url: "{% static 'datatables/datatables.json'%}"
                },
                // Ordenar por defecto por la columna 17 de forma descendente y la columna 3 de forma ascendente
                order: [3, 'asc'],
                
                buttons: [
                    {
                        extend: 'excelHtml5',
                        text: '<i class="fas fa-file-excel"></i> ',
                        titleAttr: 'Exportar a Excel',
                        className: 'btn btn-secondary green_color btn2',
                        orientation: 'landscape',
                        pageSize: 'LEGAL'
                    },
                    {
                        extend: 'pdfHtml5',
                        text: '<i class="fas fa-file-pdf"></i> ',
                        titleAttr: 'Exportar a Pdf',
                        orientation: 'landscape',
                        className: 'btn btn-danger btn2',
                        pageSize: 'LEGAL'
                    }
                ],
            });
        });
        
        
        </script>

    
    <script type="text/javascript">

        $(document).ready(function() {
            $('#tabla-categorias').DataTable({
      
                responsive: true,
                pagingType: "full_numbers", // Corregido el nombre de la opción
                pageLength: 10, // Corregido el nombre de la opción
                lengthMenu: [5, 10, 25, 50, 100], // Corregido el nombre de la opción
                buttons: [
                    {
                        extend: 'excelHtml5',
                        text: '<i class="fas fa-file-excel"></i> ',
                        titleAttr: 'Exportar a Excel',
                        className: 'btn btn-secondary green_color btn2',
                        orientation: 'landscape',
                        pageSize: 'LEGAL'
                    },
                    {
                        extend: 'pdfHtml5',
                        text: '<i class="fas fa-file-pdf"></i> ',
                        titleAttr: 'Exportar a Pdf',
                        orientation: 'landscape',
                        className: 'btn btn-danger btn2',
                        pageSize: 'LEGAL'
                    }
                ],
      
                autoWidth: false,
                dom: 'Blfrtip',
                language: {
                    url: "{% static 'datatables/datatables.json'%}"
                }
            });
      
        });
        </script>

    <script type="text/javascript">

        $(document).ready(function() {
            $('#tabla-vehiculos').DataTable({
      
                responsive: true,
                pagingType: "full_numbers", // Corregido el nombre de la opción
                pageLength: 10, // Corregido el nombre de la opción
                lengthMenu: [5, 10, 25, 50, 100], // Corregido el nombre de la opción
                buttons: [
                    {
                        extend: 'excelHtml5',
                        text: '<i class="fas fa-file-excel"></i> ',
                        titleAttr: 'Exportar a Excel',
                        className: 'btn btn-secondary green_color btn2',
                        orientation: 'landscape',
                        pageSize: 'LEGAL'
                    },
                    {
                        extend: 'pdfHtml5',
                        text: '<i class="fas fa-file-pdf"></i> ',
                        titleAttr: 'Exportar a Pdf',
                        orientation: 'landscape',
                        className: 'btn btn-danger btn2',
                        pageSize: 'LEGAL'
                    }
                ],
      
                autoWidth: false,
                dom: 'Blfrtip',
                language: {
                    url: "{% static 'datatables/datatables.json'%}"
                }
            });
      
        });
        </script>
  
    <style media="screen">
      .dt-buttons {
        text-align: center;
      }
    </style>
  
    <style media="screen">
    .dataTables-info {
      display: none !important;
    }
  </style>
  <style media="screen">
  .dataTables_paginate {
    text-align: center;
  }
  .btn2{
    border-radius: 100px;
  }
  </style>
  
   <!-- Agrega un script al final del cuerpo para mostrar los mensajes -->
   <script>
    // Verifica si hay un mensaje de éxito
    {% if success_message %}
        iziToast.success({
            title: 'Éxito',
            message: '{{ success_message }}',
            position: 'topRight'
        });
    {% endif %}
    
    // Verifica si hay un mensaje de error
    {% if error_message %}
        iziToast.error({
            title: 'Error',
            message: '{{ error_message }}',
            position: 'topRight'
        });
    {% endif %}
</script>

{% for message in messages %}
    <!-- Mensaje: {{ message }} -->
    <script>
    iziToast.{{ message.tags }}({
        title: '{{ message.tags|capfirst }}',
        message: '{{ message }}',
        position: 'topRight',
        timeout: 5000, // Duración del mensaje (en milisegundos)
        close: true, // Mostrar botón de cerrar
    });
</script>




<script type="text/javascript">
    // Función para convertir a mayúsculas al perder el foco
    function convertirAMayusculas(elemento) {
        elemento.value = elemento.value.toUpperCase();
    }
    
</script>
<script type="text/javascript">
    // Función para convertir a minúsculas al perder el foco
    function convertirAMinusculas(elemento) {
        elemento.value = elemento.value.toLowerCase();
    }
</script>




{% endfor %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Mostrar el spinner
        $('#spinner').show();

        // Realizar la petición AJAX para obtener las predicciones
        $.ajax({
            url: '{% url "dashboard" %}', // Cambia 'ruta_a_dashboard' por la URL de tu vista de Django para el dashboard
            type: 'GET',
            success: function(response) {
                // Ocultar el spinner cuando las predicciones se carguen exitosamente
                $('#spinner').hide();

                // Agregar las predicciones al contenedor
                $('#tendencias-container').html(response);
            },
            error: function(xhr, errmsg, err) {
                // Manejar errores si la carga falla
                console.log(errmsg);
            }
        });
    });
</script>
